{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/beksultankaiypov/Desktop/fresh-market/src/components/UpdateItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nfunction UpdateItem({\n  onDelete\n}) {\n  _s();\n\n  const [item, setItem] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const params = useParams();\n  const history = useHistory();\n  const [description, setDescription] = useState('');\n  const [quantity, setQuantity] = useState('');\n  const [price, setPrice] = useState('');\n  useEffect(() => {\n    fetch(`http://localhost:3000/items/${params.id}`).then(r => r.json()).then(item => {\n      setItem(item);\n      setIsLoaded(true);\n      setDescription(item.description);\n      setQuantity(item.quantity);\n      setPrice(item.price);\n    });\n  }, [params.id]);\n  if (!isLoaded) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 27\n  }, this);\n\n  function handleUpdateItem(e) {\n    e.preventDefault();\n    const newItem = {\n      description,\n      quantity: parseInt(quantity),\n      price: parseFloat(price)\n    };\n    console.log(newItem);\n    fetch(`http://localhost:3000/items/${item.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newItem)\n    });\n    history.push(`/items/${item.id}`);\n  }\n\n  function handleDelete() {\n    if (window.confirm(`Are you sure you want to delete ${item.name} from the market?`)) {\n      fetch(`http://localhost:3000/items/${item.id}`, {\n        method: \"DELETE\"\n      });\n      onDelete(item.id);\n      history.push(\"/browse\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item-update-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"image\",\n        src: item.image,\n        alt: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"edit-item\",\n      onSubmit: handleUpdateItem,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\" description\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"2\",\n          cols: \"25\",\n          type: \"text\",\n          name: \"description\",\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\" quantity\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"quantity\",\n          value: quantity,\n          onChange: e => setQuantity(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\" price\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"price\",\n          value: price,\n          onChange: e => setPrice(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"button\",\n        type: \"submit\",\n        value: \"update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"add-sold-out-button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ui negative basic button item-update-page\",\n        onClick: handleDelete,\n        children: \"Sold Out!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateItem, \"DnwuWoXu+N6+E8ZBFthuH3ljBuM=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = UpdateItem;\nexport default UpdateItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateItem\");","map":{"version":3,"sources":["/Users/beksultankaiypov/Desktop/fresh-market/src/components/UpdateItem.js"],"names":["React","useState","useEffect","useParams","useHistory","UpdateItem","onDelete","item","setItem","isLoaded","setIsLoaded","params","history","description","setDescription","quantity","setQuantity","price","setPrice","fetch","id","then","r","json","handleUpdateItem","e","preventDefault","newItem","parseInt","parseFloat","console","log","method","headers","body","JSON","stringify","push","handleDelete","window","confirm","name","image","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport { useParams, useHistory } from \"react-router-dom\";\n\nfunction UpdateItem({onDelete}) {\n    const [item, setItem] = useState(null);\n    const [isLoaded, setIsLoaded] = useState(false)\n    const params = useParams()\n    const history = useHistory()\n \n    const [description, setDescription] = useState('')\n    const [quantity, setQuantity] = useState('')\n    const [price, setPrice] = useState('')\n\n    useEffect(() => {\n        fetch(`http://localhost:3000/items/${params.id}`)\n         .then(r => r.json())\n         .then((item) => {\n         setItem(item)\n         setIsLoaded(true)\n         setDescription(item.description)\n         setQuantity(item.quantity)\n         setPrice(item.price)\n         })\n    },[params.id])\n\n\n    if (!isLoaded) return <h2>Loading...</h2>;\n\n    function handleUpdateItem(e) {\n        e.preventDefault()\n\n        const newItem = {\n            description,\n            quantity: parseInt(quantity),\n            price: parseFloat(price)\n        }\n\n        console.log(newItem)\n\n        fetch(`http://localhost:3000/items/${item.id}`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\" : \"application/json\"\n            },\n            body: JSON.stringify(newItem)\n        })\n\n        history.push(`/items/${item.id}`)\n    }\n\n\n       function handleDelete() {\n           if (window.confirm(`Are you sure you want to delete ${item.name} from the market?`)) {\n            fetch(`http://localhost:3000/items/${item.id}`, {\n                method: \"DELETE\"\n            })\n            onDelete(item.id)\n            history.push(\"/browse\")\n           }\n       }\n\n\n    return(\n        <div className=\"page-layout\">\n            <div className=\"item-update-page\">\n                <h3>{item.name}</h3>\n                <img className=\"image\" src={item.image} alt={item.name}/> \n            </div>\n            <form className=\"edit-item\" onSubmit={handleUpdateItem}>\n                <label> description\n                    <textarea rows=\"2\" cols=\"25\"\n                        type=\"text\"\n                        name=\"description\"\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                    />\n                </label>    \n                <label> quantity\n                    <br></br>\n                    <input\n                        type=\"number\"\n                        name=\"quantity\"\n                        value={quantity}\n                        onChange={(e) => setQuantity(e.target.value)}\n                    />\n                </label>\n                <br></br>\n                <label> price\n                    <br></br>\n                    <input\n                        type=\"text\"\n                        name=\"price\"\n                        value={price}\n                        onChange={(e) => setPrice(e.target.value)}\n                    />\n                </label>\n                <br></br>\n                <br></br>\n                <input className=\"button\" type=\"submit\" value=\"update\" />\n            </form>\n            <div id=\"add-sold-out-button\">\n                 <button className=\"ui negative basic button item-update-page\" onClick={handleDelete}>Sold Out!</button>\n            </div>\n        </div>\n         \n        \n    )\n}\n\nexport default UpdateItem"]},"metadata":{},"sourceType":"module"}